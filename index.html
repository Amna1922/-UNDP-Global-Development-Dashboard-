<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>UNDP Development Dashboard</title>

<!-- D3.js v7 -->
<script src="https://d3js.org/d3.v7.min.js"></script>

<!-- TopoJSON -->
<script src="https://unpkg.com/topojson-client@3"></script>

<style>
    body {
        margin: 0;
        padding: 0;
        font-family: "Arial", sans-serif;
        background: #f7f7f7;
    }

    header {
        text-align: center;
        padding: 20px;
        background: #1b4f72;
        color: white;
        font-size: 26px;
        font-weight: bold;
        letter-spacing: 1px;
    }

    .container {
        display: flex;
        flex-direction: column;
        gap: 25px;
        padding: 20px;
    }

    /* ===========================
       MOTION CHART (SCATTER)
       =========================== */
    #chart {
        background: white;
        border-radius: 8px;
        box-shadow: 0 0 8px rgba(0,0,0,0.15);
    }

    /* ===========================
       CONTROL PANEL
       =========================== */
    .controls {
        display: flex;
        gap: 18px;
        align-items: center;
        background: #ffffff;
        padding: 15px 20px;
        border-radius: 8px;
        box-shadow: 0 0 6px rgba(0,0,0,0.1);
    }

    button {
        padding: 8px 15px;
        border: none;
        border-radius: 6px;
        background: #1b4f72;
        color: white;
        cursor: pointer;
        font-size: 14px;
        font-weight: bold;
    }
    button:hover {
        background: #154360;
    }

    /* SPEED SELECT */
    select {
        padding: 6px;
        border-radius: 4px;
        font-size: 14px;
    }

    /* ===========================
       YEAR SLIDER
       =========================== */
    #yearSlider {
        position: relative;
        width: 450px;
        height: 6px;
        background: #ddd;
        border-radius: 4px;
        cursor: pointer;
    }

    .slider-fill {
        position: absolute;
        left: 0;
        height: 100%;
        width: 0%;
        background: #1b4f72;
        border-radius: 4px;
    }

        /* ===== GRID LAYOUT FOR DASHBOARD ===== */

    .dashboard-grid {
        display: grid;
        grid-template-columns: 1fr 420px; /* Motion Chart expands, Sunburst fixed */
        gap: 30px;
        width: 100%;
        align-items: start;
    }

    /* Full-width section for map */
    .full-width-section {
        grid-column: 1 / 3; /* span both columns */
        margin-top: 20px;
    }

    /* Card Styling (Optional but makes it look clean) */
    .chart-card {
        background: white;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 0 8px rgba(0,0,0,0.15);
    }


    #sliderHandle {
        position: absolute;
        top: -6px;
        width: 16px;
        height: 16px;
        background: #1b4f72;
        border-radius: 50%;
        cursor: grab;
    }

    /* ===========================
       CHOROPLETH MAP
       =========================== */
    #map {
        background: white;
        width: 100%;
        border-radius: 8px;
        box-shadow: 0 0 8px rgba(0,0,0,0.15);
    }

    #mapYear {
        font-size: 20px;
        font-weight: bold;
        fill: #1b4f72;
    }

    /* ===========================
       SUNBURST
       =========================== */
    #sunburst-container {
        text-align: center;
    }
    #sunburst-svg {
        background: white;
        border-radius: 8px;
        box-shadow: 0 0 8px rgba(0,0,0,0.15);
    }

    /* ===========================
       TOOLTIP
       =========================== */
    #tooltip {
        position: absolute;
        background: rgba(0,0,0,0.8);
        color: #fff;
        pointer-events: none;
        padding: 8px;
        border-radius: 6px;
        font-size: 12px;
        display: none;
    }


</style>
</head>

<body>

<header>UNDP Wealth & Health Development Dashboard</header>

<div class="container">

    <!-- ===========================
         MOTION CHART + CONTROLS
         =========================== -->
    <h2>UNDP Global Development Dashboard</h2>

<div class="dashboard-grid">

    <!-- LEFT COLUMN: MOTION CHART -->
    <div class="chart-card">
        <h3>Global Development Motion Chart</h3>
        <svg id="chart" width="900" height="560"></svg>

        <div class="controls">
            <button id="playPause">Play</button>
            <button id="stepBack">←</button>
            <button id="stepForward">→</button>

            <span style="font-weight:bold; margin-left:15px;">Year:</span>
            <span id="yearLabel" style="font-size:18px; color:#1b4f72;">1952</span>

            <span style="margin-left:20px; font-weight:bold;">Speed:</span>
            <select id="speedSelect">
                <option value="800">Fast</option>
                <option value="1400" selected>Normal</option>
                <option value="2000">Slow</option>
                <option value="3000">Very Slow</option>
            </select>

            <div id="yearSlider" style="margin-left: 40px;">
                <div class="slider-fill"></div>
                <div id="sliderHandle"></div>
            </div>
        </div>
    </div>

    <!-- RIGHT COLUMN: SUNBURST -->
    <div class="chart-card">
        <h3>World → Continent → Country Sunburst</h3>
        <svg id="sunburst-svg" width="420" height="420" viewBox="0 0 420 420"></svg>
    </div>

    <!-- FULL WIDTH ROW: CHOROPLETH MAP -->
    <div class="chart-card full-width-section">
        <h3>Life Expectancy Choropleth Map</h3>
        <svg id="map" viewBox="0 0 960 500"></svg>
        <div style="font-size:18px; margin-top:8px;">
            <strong>Map Year:</strong> <span id="mapYear">1952</span>
        </div>
    </div>

</div>

<!-- Tooltip -->
<div id="tooltip"></div>


<!-- Main Dashboard Script -->
<script src="2-dashboard.js"></script>

</body>
</html>
